import { z } from 'zod';
/**
 * å¸®åŠ©å’Œæµ‹è¯•å·¥å…·
 */
/**
 * å¸®åŠ©å·¥å…·
 */
export function createHelpTool() {
    return {
        name: 'get-help',
        description: 'è·å–ä¸­å›½å¤©æ°” MCP æœåŠ¡å™¨çš„ä½¿ç”¨å¸®åŠ©å’Œå‚æ•°æ ¼å¼è¯´æ˜',
        inputSchema: {},
        handler: async () => {
            return {
                content: [
                    {
                        type: 'text',
                        text: `ğŸŒ¤ï¸ ä¸­å›½å¤©æ°” MCP æœåŠ¡å™¨å¸®åŠ©æ–‡æ¡£

ğŸ“‹ å¯ç”¨å·¥å…·åŠå‚æ•°æ ¼å¼ï¼š

1. ğŸ” search-city - æœç´¢ä¸­å›½åŸå¸‚
   ğŸ“ å‚æ•°æ ¼å¼: {"cityName": "åŸå¸‚åç§°"}
   ğŸŒŸ ç¤ºä¾‹: {"cityName": "åŒ—äº¬"}
   ğŸ’¡ è¯´æ˜: ç”¨äºæœç´¢åŸå¸‚å¹¶è·å–åŸå¸‚ID

2. ğŸŒ¡ï¸ get-current-weather - è·å–å®æ—¶å¤©æ°”
   ğŸ“ å‚æ•°æ ¼å¼: {"location": "åŸå¸‚åç§°"}
   ğŸŒŸ ç¤ºä¾‹: {"location": "ä¸Šæµ·"}
   ğŸ’¡ è¯´æ˜: è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”çŠ¶å†µ

3. ğŸ“… get-weather-forecast - è·å–å¤©æ°”é¢„æŠ¥
   ğŸ“ å‚æ•°æ ¼å¼: {"location": "åŸå¸‚åç§°", "days": å¤©æ•°}
   ğŸŒŸ ç¤ºä¾‹: {"location": "å¹¿å·", "days": 5}
   ğŸ’¡ è¯´æ˜: dayså‚æ•°å¯é€‰ï¼Œé»˜è®¤3å¤©ï¼ŒèŒƒå›´1-7å¤©

4. âš ï¸ get-weather-warnings - è·å–å¤©æ°”é¢„è­¦
   ğŸ“ å‚æ•°æ ¼å¼: {"location": "åŸå¸‚åç§°"}
   ğŸŒŸ ç¤ºä¾‹: {"location": "æ·±åœ³"}
   ğŸ’¡ è¯´æ˜: è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”é¢„è­¦ä¿¡æ¯

5. ğŸ“– get-weather-example - æŸ¥çœ‹ä½¿ç”¨ç¤ºä¾‹
   ğŸ“ å‚æ•°æ ¼å¼: {"exampleCity": "åŸå¸‚åç§°"}
   ğŸŒŸ ç¤ºä¾‹: {"exampleCity": "æ­å·"}
   ğŸ’¡ è¯´æ˜: å±•ç¤ºæ‰€æœ‰å·¥å…·çš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•

6. ğŸ§ª test-echo - æµ‹è¯•å‚æ•°ä¼ é€’
   ğŸ“ å‚æ•°æ ¼å¼: {"message": "æµ‹è¯•æ¶ˆæ¯", "number": æ•°å­—}
   ğŸŒŸ ç¤ºä¾‹: {"message": "hello", "number": 123}

7. â“ get-help - æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯
   ğŸ“ å‚æ•°æ ¼å¼: {} (æ— éœ€å‚æ•°)

ğŸ™ï¸ æ”¯æŒçš„åŸå¸‚ç¤ºä¾‹ï¼š
åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³ã€æ­å·ã€å—äº¬ã€æˆéƒ½ã€æ­¦æ±‰ã€è¥¿å®‰ã€é‡åº†ã€å¤©æ´¥ã€è‹å·ã€é•¿æ²™ã€éƒ‘å·ã€é’å²›ã€å¤§è¿ã€å®æ³¢ã€æ— é”¡ã€ç¦å·ã€å¦é—¨ã€æ˜†æ˜ã€å“ˆå°”æ»¨ã€æµå—ã€ä½›å±±ã€é•¿æ˜¥ã€æ¸©å·ã€çŸ³å®¶åº„ã€å—å®ã€è´µé˜³ã€æ³‰å·ã€å—æ˜Œã€é‡‘åã€å¸¸å·ã€å˜‰å…´ã€å°å·ã€å¾å·ã€ç›åŸã€æ½åŠã€ä¿å®šç­‰

âš ï¸ é‡è¦æç¤ºï¼š
- ğŸ”‘ éœ€è¦é…ç½®å’Œé£å¤©æ°” API Key (ç¯å¢ƒå˜é‡ QWEATHER_API_KEY)
- ğŸ“Š å…è´¹ç‰ˆæœ¬æœ‰è°ƒç”¨æ¬¡æ•°é™åˆ¶
- ğŸ‡¨ğŸ‡³ æ”¯æŒä¸­å›½å¤§é™†æ‰€æœ‰åœ°çº§å¸‚åŠä»¥ä¸ŠåŸå¸‚
- ğŸ“ å‚æ•°å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ JSON æ ¼å¼ä¼ é€’
- ğŸ® åŸå¸‚åç§°è¯·ä½¿ç”¨ä¸­æ–‡

ğŸ”§ å¿«é€Ÿå¼€å§‹ï¼š
1. å…ˆä½¿ç”¨ get-weather-example æŸ¥çœ‹ç¤ºä¾‹
2. ä½¿ç”¨ get-current-weather æŸ¥è¯¢å®æ—¶å¤©æ°”
3. ä½¿ç”¨ get-weather-forecast æŸ¥è¯¢æœªæ¥å¤©æ°”

ğŸŒ API æä¾›å•†ï¼šå’Œé£å¤©æ°” (QWeather)`,
                    },
                ],
            };
        },
    };
}
/**
 * æµ‹è¯•å›æ˜¾å·¥å…·
 */
export function createTestEchoTool() {
    return {
        name: 'test-echo',
        description: 'æµ‹è¯•å‚æ•°ä¼ é€’åŠŸèƒ½ï¼Œå›æ˜¾è¾“å…¥çš„å‚æ•°',
        inputSchema: {
            message: z.string().describe('æµ‹è¯•æ¶ˆæ¯'),
            number: z.number().optional().describe('å¯é€‰çš„æ•°å­—å‚æ•°'),
        },
        handler: async (args) => {
            return {
                content: [
                    {
                        type: 'text',
                        text: `ğŸ§ª å‚æ•°ä¼ é€’æµ‹è¯•æˆåŠŸï¼

ğŸ“ æ¥æ”¶åˆ°çš„æ¶ˆæ¯: "${args.message}"
ğŸ”¢ æ¥æ”¶åˆ°çš„æ•°å­—: ${args.number || 'æœªæä¾›'}
âœ… å‚æ•°ä¼ é€’æ­£å¸¸å·¥ä½œ`,
                    },
                ],
            };
        },
    };
}
/**
 * ä½¿ç”¨ç¤ºä¾‹å·¥å…·
 */
export function createExampleTool() {
    return {
        name: 'get-weather-example',
        description: 'æŸ¥çœ‹å¤©æ°”æŸ¥è¯¢å·¥å…·çš„ä½¿ç”¨ç¤ºä¾‹å’Œå‚æ•°æ ¼å¼',
        inputSchema: {
            exampleCity: z
                .string()
                .optional()
                .describe('ç¤ºä¾‹åŸå¸‚åç§°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸ºåŒ—äº¬'),
        },
        handler: async ({ exampleCity }) => {
            const cityName = exampleCity || 'åŒ—äº¬';
            return {
                content: [
                    {
                        type: 'text',
                        text: `ğŸ“– å¤©æ°”æŸ¥è¯¢å·¥å…·ä½¿ç”¨ç¤ºä¾‹

ğŸ™ï¸ ä»¥ "${cityName}" ä¸ºä¾‹ï¼š

1. ğŸ” æœç´¢åŸå¸‚ï¼š
   å·¥å…·: search-city
   å‚æ•°: {"cityName": "${cityName}"}
   ç”¨é€”: æŸ¥æ‰¾åŸå¸‚ä¿¡æ¯å’ŒID

2. ğŸŒ¡ï¸ æŸ¥è¯¢å®æ—¶å¤©æ°”ï¼š
   å·¥å…·: get-current-weather  
   å‚æ•°: {"location": "${cityName}"}
   ç”¨é€”: è·å–å½“å‰å¤©æ°”çŠ¶å†µ

3. ğŸ“… æŸ¥è¯¢3å¤©å¤©æ°”é¢„æŠ¥ï¼š
   å·¥å…·: get-weather-forecast
   å‚æ•°: {"location": "${cityName}", "days": 3}
   ç”¨é€”: è·å–æœªæ¥3å¤©å¤©æ°”é¢„æŠ¥

4. ğŸ“… æŸ¥è¯¢7å¤©å¤©æ°”é¢„æŠ¥ï¼š
   å·¥å…·: get-weather-forecast
   å‚æ•°: {"location": "${cityName}", "days": 7}
   ç”¨é€”: è·å–æœªæ¥7å¤©å¤©æ°”é¢„æŠ¥

5. âš ï¸ æŸ¥è¯¢å¤©æ°”é¢„è­¦ï¼š
   å·¥å…·: get-weather-warnings
   å‚æ•°: {"location": "${cityName}"}
   ç”¨é€”: è·å–å¤©æ°”é¢„è­¦ä¿¡æ¯

ğŸ’¡ å‚æ•°æ ¼å¼è¯´æ˜ï¼š
- æ‰€æœ‰å‚æ•°éƒ½å¿…é¡»ç”¨åŒå¼•å·åŒ…å›´
- location å’Œ cityName å‚æ•°æ˜¯å¿…éœ€çš„
- days å‚æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º3ï¼ŒèŒƒå›´1-7
- åŸå¸‚åç§°è¯·ä½¿ç”¨ä¸­æ–‡å…¨ç§°

ğŸ¯ æ¨èä½¿ç”¨æµç¨‹ï¼š
1. å¦‚ä¸ç¡®å®šåŸå¸‚åç§°ï¼Œå…ˆç”¨ search-city æœç´¢
2. ä½¿ç”¨ get-current-weather æŸ¥çœ‹å½“å‰å¤©æ°”
3. ä½¿ç”¨ get-weather-forecast æŸ¥çœ‹æœªæ¥å¤©æ°”
4. å¦‚éœ€è¦ï¼Œä½¿ç”¨ get-weather-warnings æŸ¥çœ‹é¢„è­¦ä¿¡æ¯`,
                    },
                ],
            };
        },
    };
}
